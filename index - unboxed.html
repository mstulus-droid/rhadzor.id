<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n-title-id="Unboxed by Rhadzor - Catatan Bacaan Jujur" data-i18n-title-en="Unboxed by Rhadzor - Honest Reading Notes">Unboxed by Rhadzor - Catatan Bacaan Jujur</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
    <meta name="theme-color" content="#c06f3f">
    <meta property="og:image" content="assets/favicon/android-chrome-512x512.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="assets/favicon/android-chrome-512x512.png">
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght,SOFT@9..144,400..700,80&family=Manrope:wght@400;500;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-paper: #f4efe8;
            --bg-accent: #e9ddcf;
            --text-dark: #352f2b;
            --text-soft: #6f655c;
            --accent: #c06f3f;
            --accent-hover: #9f5630;
            --glow: rgba(192, 111, 63, 0.2);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Manrope', sans-serif;
            color: var(--text-dark);
            line-height: 1.7;
            min-height: 100vh;
            overflow-x: hidden;
            background:
                radial-gradient(circle at 10% 20%, #fff7ee 0%, transparent 35%),
                radial-gradient(circle at 90% 15%, #f1dcc7 0%, transparent 35%),
                linear-gradient(150deg, var(--bg-paper) 0%, var(--bg-accent) 100%);
            position: relative;
        }

        body::before, body::after {
            content: "";
            position: fixed;
            width: 360px;
            height: 360px;
            border-radius: 50%;
            z-index: -1;
            filter: blur(40px);
            opacity: 0.35;
        }

        body::before { top: -120px; left: -120px; background: #f3cfad; }
        body::after { bottom: -140px; right: -100px; background: #d6b193; }

        header {
            padding: 2rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            max-width: 1240px;
            margin: 0 auto;
        }

        .brand {
            display: inline-flex;
            align-items: baseline;
            gap: 0.65rem;
            font-family: 'Fraunces', serif;
            font-size: clamp(1.4rem, 2.4vw, 2rem);
            font-weight: 650;
            letter-spacing: 0.2px;
        }

        .brand strong {
            color: var(--accent);
            font-weight: 700;
        }

                .brand-home-link {
            font-family: 'Manrope', sans-serif;
            font-size: 0.76rem;
            text-transform: uppercase;
            letter-spacing: 1.3px;
            color: var(--text-soft);
            border: 1px solid rgba(82, 62, 46, 0.18);
            border-radius: 999px;
            padding: 0.2rem 0.58rem;
            background: rgba(255, 255, 255, 0.45);
            text-decoration: none;
            transition: color 0.25s ease, border-color 0.25s ease, background 0.25s ease;
        }

        .brand-home-link:hover {
            color: #fff;
            border-color: rgba(192, 111, 63, 0.55);
            background: linear-gradient(135deg, var(--accent), var(--accent-hover));
        }
        .lang-switch {
            display: inline-flex;
            background: rgba(255, 255, 255, 0.65);
            border: 1px solid rgba(120, 95, 78, 0.2);
            border-radius: 999px;
            padding: 0.2rem;
            gap: 0.2rem;
        }

        .lang-btn {
            border: 0;
            background: transparent;
            color: #5b4c40;
            font-weight: 700;
            font-size: 0.78rem;
            padding: 0.35rem 0.65rem;
            border-radius: 999px;
            cursor: pointer;
        }

        .lang-btn.active {
            color: #fff;
            background: linear-gradient(135deg, var(--accent), var(--accent-hover));
        }

        .hero {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1240px;
            margin: 0 auto;
            padding: 2.5rem 5% 4rem;
            gap: 3rem;
        }

        .hero-text { flex: 1; max-width: 560px; animation: revealUp 0.8s ease both; }

        .hero-text h1 {
            font-family: 'Fraunces', serif;
            font-size: clamp(2.7rem, 5vw, 4.6rem);
            line-height: 1.05;
            font-weight: 600;
            margin-bottom: 1.25rem;
            color: var(--text-dark);
        }

        .hero-text p {
            font-size: clamp(1rem, 1.8vw, 1.15rem);
            color: var(--text-soft);
            margin-bottom: 2.2rem;
        }

        .btn-read {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.55rem;
            background: linear-gradient(135deg, var(--accent), #cd875d);
            color: #fff;
            padding: 1rem 2.4rem;
            font-size: 1.05rem;
            font-weight: 700;
            letter-spacing: 0.2px;
            text-decoration: none;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.28);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease, gap 0.25s ease;
            box-shadow: 0 12px 26px var(--glow);
        }

        .btn-read::before {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(120deg, transparent 20%, rgba(255, 255, 255, 0.28) 50%, transparent 80%);
            transform: translateX(-130%);
            transition: transform 0.55s ease;
        }

        .btn-read::after {
            content: "->";
            position: relative;
            font-weight: 800;
            font-size: 1rem;
            transition: transform 0.25s ease;
        }

        .btn-read:hover {
            background: linear-gradient(135deg, #b76336, var(--accent-hover));
            transform: translateY(-4px);
            gap: 0.72rem;
            box-shadow: 0 18px 36px rgba(159, 86, 48, 0.3);
        }

        .btn-read:hover::before {
            transform: translateX(130%);
        }

        .btn-read:hover::after {
            transform: translateX(3px);
        }

        .hero-visual {
            flex: 1;
            min-height: 560px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            animation: revealUp 1s ease both;
            animation-delay: 0.2s;
        }

        .book-cloud { position: relative; width: min(100%, 620px); height: 540px; }

        .book {
            position: absolute;
            width: 200px;
            height: 300px;
            border-radius: 8px 14px 14px 8px;
            box-shadow: 0 18px 42px rgba(53, 47, 43, 0.22);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 1.5rem;
            border-left: 8px solid rgba(0, 0, 0, 0.08);
            transition: transform 0.45s cubic-bezier(0.22, 1, 0.36, 1), box-shadow 0.3s ease;
            cursor: pointer;
            transform-origin: center;
            animation: float 5.5s ease-in-out infinite;
            text-decoration: none;
            color: inherit;
        }

        .book h3 { font-family: 'Fraunces', serif; font-size: 1.5rem; line-height: 1.2; margin-bottom: 0.5rem; }
        .book p { font-size: 0.8rem; letter-spacing: 1px; text-transform: uppercase; opacity: 0.9; }

        .book:hover {
            transform: translateY(-16px) rotate(0deg) scale(1.06) !important;
            box-shadow: 0 30px 50px rgba(53, 47, 43, 0.3);
        }

        .book.is-revealed {
            box-shadow: 0 34px 58px rgba(53, 47, 43, 0.34);
        }

        .book-1 { top: 40px; left: 18px; transform: rotate(-15deg); background: linear-gradient(150deg, #d8b995, #a67e55); color: #2f2924; z-index: 5; }
        .book-2 { top: 14px; right: 55px; transform: rotate(12deg); background: linear-gradient(150deg, #536a58, #2f4136); color: #e9e4df; z-index: 4; animation-delay: 0.8s; }
        .book-3 { top: 185px; left: 155px; transform: rotate(-4deg); background: linear-gradient(150deg, #8c5b4d, #5a382f); color: #ece5de; z-index: 6; animation-delay: 1.4s; }
        .book-4 { bottom: 44px; left: 14px; transform: rotate(8deg); background: linear-gradient(150deg, #4f5f7b, #2f3c52); color: #edf0f5; z-index: 3; animation-delay: 2s; }
        .book-5 { bottom: 22px; right: 28px; transform: rotate(-11deg); background: linear-gradient(150deg, #c2885f, #8f5b37); color: #f8eee5; z-index: 2; animation-delay: 2.6s; }

        @keyframes revealUp { from { opacity: 0; transform: translateY(22px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes float { 0%, 100% { transform: translateY(0) rotate(var(--rot, 0deg)); } 50% { transform: translateY(-10px) rotate(var(--rot, 0deg)); } }
        .book-1 { --rot: -15deg; } .book-2 { --rot: 12deg; } .book-3 { --rot: -4deg; } .book-4 { --rot: 8deg; } .book-5 { --rot: -11deg; }

        @media (max-width: 980px) {
            header { max-width: none; }
            .hero { flex-direction: column; text-align: center; gap: 1.5rem; }
            .hero-text p { margin-left: auto; margin-right: auto; max-width: 630px; }
            .hero-visual { min-height: 500px; width: 100%; }
            .book-cloud { transform: scale(0.9); transform-origin: center top; }
        }

                @media (max-width: 640px) {
            header { flex-direction: column; justify-content: center; }            .hero { padding-top: 1.5rem; gap: 2rem; }
            .hero-visual { min-height: 440px; margin-top: 0.2rem; }
            .book-cloud { transform: scale(0.72); height: 460px; margin-top: 6px; }
            .btn-read { width: 100%; max-width: 300px; margin: 0 auto 1rem; }
        }
    </style>
</head>
<body>
        <header>
        <div class="brand">Unboxed<strong>.</strong><a class="brand-home-link" href="https://rhadzor.id">rhadzor.id</a></div>
        <div class="lang-switch" aria-label="Language switch">
            <button class="lang-btn" data-lang="en" type="button">ENG</button>
            <button class="lang-btn" data-lang="id" type="button">IND</button>
        </div>
    </header>

    <main class="hero">
        <div class="hero-text">
            <h1 data-i18n data-i18n-id="Bukan resensi. Bukan ringkasan." data-i18n-en="Not a review. Not a summary.">Bukan resensi. Bukan ringkasan.</h1>
            <p data-i18n data-i18n-id="Cuma catatan dari orang yang seringkali kepikiran setelah baca buku." data-i18n-en="Just notes from someone who overthinks after finishing a book.">Cuma catatan dari orang yang seringkali kepikiran setelah baca buku.</p>
            <a href="books.html" class="btn-read" data-i18n data-i18n-id="Masuk ke Pilihan Buku" data-i18n-en="Open Book Picks">Masuk ke Pilihan Buku</a>
        </div>

        <div class="hero-visual">
            <div class="book-cloud" id="book-cloud" aria-label="Featured random books"></div>
        </div>
    </main>
    <script src="scripts/i18n.js" defer></script>
    <script>
        (() => {
            const FALLBACK_BOOKS = [
                { title: 'Deep Work', author: 'Cal Newport', href: 'summaries/deep-work.html' },
                { title: 'Atomic Habits', author: 'James Clear', href: 'summaries/atomic-habits.html' },
                { title: 'The Psychology of Money', author: 'Morgan Housel', href: 'summaries/psychology-of-money.html' },
                { title: 'Think Again', author: 'Adam Grant', href: 'summaries/think-again.html' },
                { title: 'Sapiens', author: 'Yuval Noah Harari', href: 'summaries/sapiens.html' },
                { title: 'The Lessons of History', author: 'Will & Ariel Durant', href: 'summaries/the-lessons-of-history.html' }
            ];

            const BOOK_SLOTS = [
                { className: 'book-1', z: 5 },
                { className: 'book-2', z: 4 },
                { className: 'book-3', z: 6 },
                { className: 'book-4', z: 3 },
                { className: 'book-5', z: 2 }
            ];

            const shuffle = (items) => {
                const copy = [...items];
                for (let i = copy.length - 1; i > 0; i -= 1) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [copy[i], copy[j]] = [copy[j], copy[i]];
                }
                return copy;
            };

            const parseBooksFromLibrary = (html) => {
                const doc = new DOMParser().parseFromString(html, 'text/html');
                return [...doc.querySelectorAll('.card-link')]
                    .map((card) => {
                        const title = card.querySelector('h3')?.textContent?.trim();
                        const author = card.querySelector('.author')?.textContent?.trim();
                        const href = card.getAttribute('href');
                        if (!title || !author || !href) return null;
                        return { title, author, href };
                    })
                    .filter(Boolean);
            };

            const dedupeBooks = (books) => {
                const seen = new Set();
                return books.filter((book) => {
                    const key = `${book.title}::${book.href}`;
                    if (seen.has(key)) return false;
                    seen.add(key);
                    return true;
                });
            };

            const getBookPool = async () => {
                try {
                    const response = await fetch('books.html', { cache: 'no-store' });
                    if (!response.ok) return dedupeBooks(FALLBACK_BOOKS);
                    const html = await response.text();
                    const books = parseBooksFromLibrary(html);
                    return dedupeBooks([...books, ...FALLBACK_BOOKS]);
                } catch (error) {
                    return dedupeBooks(FALLBACK_BOOKS);
                }
            };

            const toNumber = (value) => {
                const num = Number(value);
                return Number.isFinite(num) ? num : 0;
            };

            const setupRevealNavigation = (cards) => {
                let topZ = Math.max(...cards.map((card) => toNumber(card.dataset.stackZ)));

                const bringToFront = (card) => {
                    topZ += 1;
                    card.dataset.stackZ = String(topZ);
                    card.style.zIndex = String(topZ);
                    card.classList.add('is-revealed');
                };

                cards.forEach((card) => {
                    card.addEventListener('click', (event) => {
                        const cardZ = toNumber(card.dataset.stackZ);
                        if (cardZ < topZ) {
                            event.preventDefault();
                            bringToFront(card);
                        }
                    });
                });
            };

            const renderRandomStack = async () => {
                const container = document.getElementById('book-cloud');
                if (!container) return;

                const pool = await getBookPool();
                const selected = shuffle(pool).slice(0, BOOK_SLOTS.length);
                const cards = [];

                container.innerHTML = '';

                selected.forEach((book, index) => {
                    const slot = BOOK_SLOTS[index];
                    const card = document.createElement('a');
                    card.className = `book ${slot.className}`;
                    card.href = book.href;
                    card.dataset.stackZ = String(slot.z);
                    card.style.zIndex = String(slot.z);
                    const titleEl = document.createElement('h3');
                    titleEl.textContent = book.title;
                    const authorEl = document.createElement('p');
                    authorEl.textContent = book.author;
                    card.append(titleEl, authorEl);
                    container.appendChild(card);
                    cards.push(card);
                });

                setupRevealNavigation(cards);
            };

            document.addEventListener('DOMContentLoaded', renderRandomStack);
        })();
    </script>
</body>
</html>
